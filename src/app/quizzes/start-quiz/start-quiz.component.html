<div class="quiz-container">
  <!-- Quiz Header with Title and Timer -->
  <div class="quiz-header">
    <h2>{{ quizTitle }} - {{ difficulty }} Quiz</h2>
    <div class="timer">
      <span>Time Left: {{ formattedTime }}</span>
    </div>
  </div>

  <!-- Progress Bar -->
  <mat-progress-bar
    mode="determinate"
    [value]="(currentQuestionIndex / questions.length) * 100"
  ></mat-progress-bar>

  <!-- Question Display Section -->
  <div *ngIf="quiz">
    <h3>Question {{ currentQuestionIndex + 1 }} of {{ questions.length }}</h3>

    <div *ngIf="questions.length > 0">
      <!-- Display the current question -->
      <p>{{ questions[currentQuestionIndex]?.question }}</p>

      <!-- Radio buttons for the four options -->
      <mat-radio-group [(ngModel)]="selectedAnswers[currentQuestionIndex]">
        <mat-radio-button [value]="questions[currentQuestionIndex]?.option_1">
          {{ questions[currentQuestionIndex]?.option_1 }}
        </mat-radio-button>

        <mat-radio-button [value]="questions[currentQuestionIndex]?.option_2">
          {{ questions[currentQuestionIndex]?.option_2 }}
        </mat-radio-button>

        <mat-radio-button [value]="questions[currentQuestionIndex]?.option_3">
          {{ questions[currentQuestionIndex]?.option_3 }}
        </mat-radio-button>

        <mat-radio-button [value]="questions[currentQuestionIndex]?.option_4">
          {{ questions[currentQuestionIndex]?.option_4 }}
        </mat-radio-button>
      </mat-radio-group>

      <!-- Navigation Buttons -->
      <div class="button-section">
        <button
          mat-raised-button
          class="previous-button"
          (click)="previousQuestion()"
          *ngIf="!isFirstQuestion"
        >
          Previous
        </button>
        <button mat-raised-button class="next-button" (click)="nextQuestion()">
          {{ isLastQuestion ? "Submit Quiz" : "Next" }}
        </button>
      </div>
    </div>
  </div>
</div>
