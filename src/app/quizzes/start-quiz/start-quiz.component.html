<div class="quiz-container">
  <!-- Quiz Header with Title and Timer -->
  <div class="quiz-header">
    <h2>{{ quizTitle }} - {{ difficulty }} Quiz</h2>
    <div class="timer">
      <span>Time Left: {{ formattedTime }}</span>
    </div>
  </div>

  <!-- Progress Bar -->
  <mat-progress-bar
    mode="determinate"
    [value]="(currentQuestionIndex / questions.length) * 100"
  ></mat-progress-bar>

  <!-- Question Display Section -->
  <div *ngIf="quiz">
    <h2>{{ quizTitle }}</h2>
    <h3>Question {{ currentQuestionIndex + 1 }} of {{ questions.length }}</h3>

    <div *ngIf="questions.length > 0">
      <p>{{ questions[currentQuestionIndex]?.question }}</p>

      <mat-radio-group [(ngModel)]="selectedOption">
        <div *ngFor="let option of questions[currentQuestionIndex]?.options">
          <mat-radio-button [value]="option">{{ option }}</mat-radio-button>
        </div>
      </mat-radio-group>

      <!-- Navigation Buttons -->
      <div class="button-section">
        <button
          mat-raised-button
          class="previous-button"
          (click)="previousQuestion()"
          *ngIf="!isFirstQuestion"
        >
          Previous
        </button>
        <button mat-raised-button class="next-button" (click)="nextQuestion()">
          {{ isLastQuestion ? "Submit Quiz" : "Next" }}
        </button>
      </div>
    </div>
  </div>
</div>
