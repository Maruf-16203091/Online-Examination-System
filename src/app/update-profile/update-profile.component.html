<div class="update-profile-container">
  <h2 class="update">Update Profile</h2>
  <form [formGroup]="updateProfileForm" (ngSubmit)="onSubmit()">
    <div class="form-row">
      <div class="form-column">
        <div class="form-group">
          <label for="name">Name</label>
          <input
            id="name"
            formControlName="name"
            type="text"
            class="form-control"
          />
        </div>
        <div class="form-group">
          <label for="email">Email</label>
          <input
            id="email"
            formControlName="email"
            type="email"
            class="form-control"
          />
        </div>
        <div class="form-group">
          <label for="bio">Bio</label>
          <textarea
            id="bio"
            formControlName="bio"
            rows="4"
            class="form-control"
          ></textarea>
        </div>
        <div class="form-group">
          <label for="phone">Phone Number</label>
          <input
            id="phone"
            formControlName="phone"
            type="text"
            class="form-control"
          />
        </div>
      </div>

      <div class="form-column">
        <div class="form-group profile-pic-group">
          <label for="profileImage">Profile Picture</label>
          <input
            id="profileImage"
            type="file"
            (change)="onFileChange($event)"
            class="form-control-file"
          />
          <div class="profile-pic-preview">
            <img
              class="profile-image"
              [src]="
                selectedProfileImage ??
                'http://localhost:5000/' + user?.profileImage
              "
              alt="Profile Picture"
            />
          </div>
        </div>

        <!-- Password Field with Eye Icon -->
        <div class="form-group password-field">
          <label for="password">New Password</label>
          <input
            id="password"
            [type]="showPassword ? 'text' : 'password'"
            formControlName="password"
            class="form-control"
          />
          <button
            type="button"
            class="eye-icon"
            (click)="togglePasswordVisibility()"
          >
            <mat-icon>{{
              showPassword ? "visibility_off" : "visibility"
            }}</mat-icon>
          </button>
        </div>

        <!-- Confirm Password Field with Eye Icon -->
        <div class="form-group password-field">
          <label for="confirmPassword">Confirm Password</label>
          <input
            id="confirmPassword"
            [type]="showConfirmPassword ? 'text' : 'password'"
            formControlName="confirmPassword"
            class="form-control"
          />
          <button
            type="button"
            class="eye-icon"
            (click)="toggleConfirmPasswordVisibility()"
          >
            <mat-icon>{{
              showConfirmPassword ? "visibility_off" : "visibility"
            }}</mat-icon>
          </button>
        </div>
      </div>
    </div>

    <button type="submit" mat-raised-button color="primary">Update</button>
  </form>
</div>
